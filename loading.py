import numpy as np
import tensorflow as tf

# Load TFLite model and allocate tensors.
interpreter = tf.lite.Interpreter(model_path="myLittleModel.tflite")
interpreter.allocate_tensors()

# Get input and output tensors.
input_details = interpreter.get_input_details()
output_details = interpreter.get_output_details()
print(input_details)
# Test model on random input data.
input = [267, 80, 46, 175, 111, 184, 457, 130, 278, 98, 55, 202, 113, 190, 501, 137, 258, 101, 63, 240, 111, 198, 504, 141, 271, 103, 69, 246, 123, 186, 536, 151, 285, 104, 69, 256, 125, 189, 619, 150, 295, 107, 73, 245, 128, 180, 629, 148, 257, 93, 74, 270, 136, 176, 575, 128, 295, 111, 80, 254, 136, 193, 686, 140, 307, 120, 80, 245, 121, 196, 645, 131, 304, 123, 81, 237, 116, 207, 621, 129, 277, 128, 81, 259, 133, 217, 585, 125, 285, 129, 87, 234, 138, 222, 592, 135, 246, 111, 75, 233, 140, 226, 428, 113, 196, 94, 73, 227, 142, 241, 505, 123, 197, 97, 72, 244, 139, 228, 426, 135, 205, 92, 67, 212, 124, 224, 537, 149, 221, 89, 59, 183, 120, 219, 564, 162, 283, 95, 62, 185, 116, 179, 600, 181, 304, 103, 62, 215, 129, 173, 572, 186, 296, 95, 63, 218, 138, 176, 566, 173, 287, 86, 62, 221, 139, 174, 434, 155, 280, 81, 50, 234, 140, 197, 475, 139, 263, 80, 51, 223, 143, 209, 466, 118, 321, 108, 53, 191, 128, 216, 470, 115, 323, 113, 50, 212, 134, 220, 511, 127, 335, 115, 51, 230, 138, 223, 513, 141, 325, 114, 55, 255, 138, 222, 471, 144, 308, 109, 52, 255, 144, 226, 469, 144, 262, 91, 53, 272, 159, 205, 438, 142, 255, 85, 57, 248, 157, 210, 437, 136, 225, 80, 54, 247, 170, 212, 489, 129, 252, 84, 51, 204, 157, 206, 480, 122, 233, 79, 61, 186, 149, 208, 443, 122, 201, 63, 58, 154, 132, 224, 530, 117, 207, 63, 63, 155, 124, 201, 510, 110, 212, 68, 73, 137, 100, 204, 467, 112, 187, 81, 81, 149, 107, 228, 556, 126, 195, 89, 76, 191, 110, 231, 567, 117, 198, 95, 78, 249, 142, 219, 535, 125, 194, 94, 77, 262, 164, 254, 564, 142, 191, 91, 69, 262, 166, 247, 583, 138, 199, 79, 68, 261, 162, 226, 553, 150, 188, 77, 68, 264, 171, 213, 555, 147, 200, 71, 67, 214, 147, 243, 511, 154, 214, 72, 60, 198, 132, 271, 534, 150, 240, 90, 68, 203, 141, 285, 566, 162, 268, 102, 62, 205, 165, 296, 611, 149, 274, 101, 61, 167, 173, 303, 639, 154, 269, 101, 64, 176, 176, 294, 639, 150, 261, 107, 71, 177, 168, 265, 623, 149, 239, 96, 69, 183, 163, 265, 648, 142, 237, 111, 75, 210, 151, 310, 575, 136, 256, 114, 75, 222, 132, 306, 544, 131, 275, 114, 76, 215, 130, 301, 635, 126, 329, 117, 70, 202, 140, 284, 595, 117, 342, 124, 64, 208, 142, 279, 526, 112, 344, 117, 66, 210, 139, 211, 493, 103, 346, 119, 65, 213, 137, 221, 618, 112, 346, 121, 61, 233, 129, 215, 534, 108, 321, 120, 60, 231, 116, 221, 535, 125, 330, 119, 66, 217, 108, 230, 563, 130, 299, 108, 59, 209, 108, 236, 684, 154, 285, 105, 61, 246, 148, 228, 599, 163, 276, 106, 63, 236, 151, 233, 671, 184, 250, 100, 66, 247, 158, 220, 676, 173, 229, 88, 60, 267, 168, 205, 658, 168, 238, 84, 59, 260, 166, 215, 599, 157, 230, 83, 54, 222, 136, 201, 608, 153, 211, 76, 53, 223, 152, 212, 533, 128, 225, 77, 48, 211, 141, 222, 527, 130, 220, 84, 62, 207, 128, 231, 536, 126, 272, 94, 59, 190, 124, 206, 491, 122, 281, 101, 64, 176, 147, 224, 557, 134, 292, 111, 68, 225, 133, 221, 560, 127, 319, 116, 70, 228, 153, 217, 588, 125, 359, 124, 59, 212, 158, 291, 685, 149, 317, 115, 61, 223, 165, 304, 693, 152, 313, 112, 66, 230, 143, 294, 639, 140, 306, 103, 66, 179, 142, 284, 666, 157, 279, 97, 66, 199, 130, 296, 752, 161, 259, 98, 71, 197, 125, 213, 659, 154, 257, 99, 72, 199, 116, 199, 626, 144, 275, 99, 62, 188, 111, 264, 650, 148, 278, 102, 62, 181, 107, 277, 620, 134, 264, 102, 67, 167, 100, 262, 500, 127, 278, 110, 59, 157, 108, 258, 560, 135, 284, 111, 57, 149, 125, 278, 628, 141, 275, 111, 64, 205, 140, 219, 606, 135, 273, 110, 61, 245, 167, 236, 687, 144, 275, 110, 69, 235, 174, 253, 682, 140, 233, 91, 75, 255, 180, 266, 648, 121, 219, 90, 85, 262, 207, 245, 656, 148, 229, 96, 87, 230, 248, 247, 626, 139, 235, 94, 90, 202, 230, 221, 530, 135, 274, 101, 80, 224, 227, 225, 648, 188, 288, 97, 74, 222, 225, 253, 636, 197, 290, 99, 72, 255, 214, 303, 622, 192, 271, 97, 75, 296, 200, 330, 653, 216, 320, 115, 70, 306, 209, 331, 721, 247, 301, 108, 72, 315, 214, 389, 674, 220, 377, 147, 82, 330, 220, 380, 754, 219, 383, 147, 93, 328, 201, 367, 742, 222, 401, 147, 103, 305, 163, 361, 843, 219, 373, 146, 108, 259, 205, 410, 837, 210, 293, 121, 112, 259, 201, 417, 842, 210, 311, 124, 106, 228, 215, 404, 863, 215, 296, 125, 105, 225, 231, 435, 750, 218, 272, 111, 103, 236, 203, 332, 757, 197, 287, 118, 106, 269, 208, 318, 735, 222, 283, 114, 107, 244, 237, 327, 680, 228, 285, 113, 103, 233, 221, 325, 628, 210, 359, 125, 92, 224, 212, 284, 742, 204, 418, 135, 93, 250, 248, 308, 716, 217, 426, 139, 92, 243, 251, 339, 769, 200, 440, 139, 82, 259, 220, 411, 809, 204, 464, 143, 81, 269, 230, 425, 879, 223, 417, 138, 76, 283, 234, 422, 904, 218, 361, 135, 87, 270, 216, 427, 852, 202, 457, 158, 94, 263, 209, 443, 811, 218, 507, 179, 94, 242, 210, 437, 812, 261, 484, 179, 94, 227, 212, 443, 831, 292, 497, 179, 96, 241, 217, 428, 682, 291, 498, 174, 81, 237, 243, 458, 735, 291, 465, 164, 84, 241, 234, 449, 836, 352, 388, 139, 92, 311, 264, 422, 883, 343, 384, 131, 93, 319, 260, 412, 799, 303, 471, 155, 94, 294, 255, 422, 808, 312, 497, 158, 95, 294, 233, 395, 768, 310, 468, 157, 86, 288, 252, 456, 901, 276, 504, 161, 74, 226, 236, 415, 846, 279, 525, 169, 80, 235, 237, 405, 840, 289, 460, 149, 81, 246, 231, 424, 872, 310, 455, 157, 80, 228, 219, 409, 904, 338, 424, 138, 78, 224, 205, 348, 761, 308, 396, 132, 87, 248, 198, 343, 702, 275, 422, 141, 79, 233, 191, 364, 856, 286, 415, 139, 73, 228, 187, 334, 861, 259, 392, 127, 77, 244, 171, 377, 912, 241, 392, 125, 78, 245, 170, 328, 865, 226, 454, 142, 74, 250, 151, 315, 864, 228, 442, 136, 82, 257, 148, 366, 810, 213, 419, 135, 91, 248, 146, 406, 854, 220, 421, 137, 95, 288, 165, 402, 820, 244, 439, 145, 100, 295, 167, 472, 784, 231, 394, 135, 92, 252, 185, 512, 779, 232, 353, 124, 88, 254, 208, 530, 771, 263, 382, 127, 80, 269, 224, 535, 738, 268, 373, 129, 81, 296, 243, 508, 725, 233, 352, 122, 73, 295, 236, 450, 805, 243, 358, 131, 85, 296, 222, 474, 844, 268]
[323, 122, 95, 296, 183, 475, 880, 251, 413, 146, 90, 210, 156, 478, 841, 261, 464, 158, 98, 194, 160, 484, 862, 326, 586, 172, 99, 204, 168, 454, 866, 321, 602, 176, 101, 208, 183, 475, 930, 315, 618, 183, 106, 209, 237, 456, 868, 307, 584, 174, 105, 214, 285, 494, 998, 316, 547, 167, 104, 235, 291, 486, 929, 256, 378, 143, 111, 239, 356, 531, 994, 279, 324, 129, 102, 236, 370, 480, 891, 264, 302, 123, 99, 244, 405, 474, 937, 303, 337, 129, 111, 240, 386, 448, 857, 306, 492, 163, 113, 223, 388, 499, 891, 336, 551, 184, 106, 219, 385, 504, 888, 338, 559, 189, 115, 283, 402, 477, 825, 331, 572, 189, 110, 277, 357, 463, 769, 303, 555, 191, 98, 291, 354, 471, 741, 299, 445, 169, 106, 298, 397, 450, 721, 272, 387, 149, 101, 298, 354, 385, 662, 246, 419, 157, 91, 234, 314, 406, 674, 238, 482, 170, 102, 219, 298, 463, 715, 235, 485, 160, 107, 239, 293, 532, 880, 319, 483, 158, 89, 233, 246, 547, 950, 328, 479, 160, 87, 232, 241, 526, 875, 307, 483, 154, 85, 223, 263, 534, 966, 334, 431, 149, 69, 219, 269, 593, 1053, 353, 419, 153, 72, 177, 263, 582, 979, 277, 394, 144, 90, 234, 238, 568, 936, 289, 376, 138, 105, 259, 230, 591, 955, 292, 459, 181, 113, 270, 214, 582, 924, 276, 562, 214, 116, 313, 228, 486, 853, 277, 573, 218, 116, 334, 238, 522, 971, 317, 590, 221, 119, 307, 251, 544, 939, 303, 648, 232, 110, 291, 278, 531, 1004, 312, 564, 200, 105, 283, 279, 537, 982, 363, 466, 165, 105, 245, 254, 548, 1011, 359, 445, 147, 98, 214, 263, 498, 844, 324, 433, 146, 84, 205, 254, 483, 862, 322, 367, 129, 81, 211, 246, 483, 871, 328, 430, 134, 91, 244, 250, 511, 873, 270, 409, 119, 96, 247, 252, 533, 847, 262, 380, 113, 97, 248, 236, 472, 817, 242, 381, 125, 94, 238, 249, 486, 844, 245, 380, 135, 98, 238, 238, 514, 873, 310, 435, 151, 84, 238, 250, 510, 920, 323, 431, 161, 103, 234, 268, 498, 938, 328, 485, 193, 108, 242, 263, 526, 1045, 393, 506, 191, 111, 253, 239, 486, 966, 397, 495, 180, 103, 256, 250, 453, 915, 338, 420, 168, 112, 247, 226, 427, 873, 330, 413, 171, 110, 291, 221, 461, 959, 360, 371, 149, 116, 296, 237, 465, 876, 336, 344, 145, 125, 342, 235, 459, 899, 308, 396, 161, 129, 343, 212, 454, 857, 314, 433, 193, 125, 339, 220, 476, 931, 348, 455, 193, 106, 335, 228, 410, 811, 323, 457, 190, 107, 353, 241, 371, 792, 277, 497, 189, 89, 314, 262, 379, 807, 299, 492, 194, 89, 311, 266, 433, 942, 333, 500, 162, 89, 328, 270, 420, 904, 291, 493, 166, 97, 304, 263, 409, 1003, 288, 507, 169, 81, 303, 304, 432, 1000, 292, 502, 175, 94, 317, 316, 428, 1021, 286, 525, 164, 92, 299, 305, 435, 937, 261, 468, 159, 101, 332, 290, 417, 861, 255, 483, 152, 105, 327, 282, 527, 864, 292, 471, 142, 110, 314, 259, 503, 840, 290, 456, 140, 113, 291, 230, 568, 838, 322, 489, 160, 115, 306, 237, 573, 934, 394, 475, 161, 112, 231, 241, 570, 945, 398, 428, 156, 95, 185, 176, 536, 832, 352, 409, 162, 97, 210, 227, 555, 908, 410, 299, 132, 100, 212, 236, 506, 871, 346, 311, 126, 95, 237, 238, 490, 860, 337, 317, 129, 97, 259, 240, 454, 900, 340, 365, 135, 109, 282, 250, 440, 952, 351, 459, 145, 103, 259, 205, 410, 969, 330, 443, 145, 97, 257, 186, 406, 918, 324, 440, 148, 104, 263, 179, 421, 911, 327, 435, 145, 104, 245, 174, 429, 901, 331, 382, 141, 109, 224, 184, 486, 1058, 351, 297, 126, 110, 236, 223, 506, 1079, 400, 296, 130, 117, 276, 239, 551, 1121, 419, 284, 123, 108, 255, 255, 550, 1124, 427, 321, 141, 114, 286, 275, 587, 1138, 480, 535, 189, 101, 285, 257, 585, 959, 485, 521, 196, 123, 313, 243, 578, 917, 439, 532, 202, 125, 292, 235, 545, 801, 412, 533, 203, 126, 305, 232, 574, 791, 404, 624, 253, 126, 273, 210, 595, 805, 382, 538, 258, 134, 292, 219, 553, 825, 386, 590, 270, 110, 317, 204, 480, 736, 319, 587, 269, 111, 308, 206, 484, 733, 307, 587, 274, 115, 345, 239, 504, 911, 356, 506, 245, 113, 345, 253, 437, 900, 305, 440, 198, 111, 344, 243, 465, 959, 290, 333, 159, 104, 326, 252, 452, 905, 280, 341, 166, 102, 340, 257, 452, 982, 318, 366, 165, 111, 295, 212, 407, 959, 307, 380, 161, 106, 296, 211, 392, 977, 321, 370, 168, 102, 285, 227, 426, 989, 320, 361, 165, 100, 242, 222, 446, 1106, 346, 384, 170, 90, 202, 213, 465, 1098, 326, 443, 200, 83, 203, 216, 489, 1070, 313, 414, 184, 88, 221, 238, 540, 1126, 361, 418, 193, 93, 234, 315, 561, 1109, 400, 429, 196, 98, 241, 317, 565, 1036, 405, 396, 179, 102, 252, 313, 526, 964, 393, 381, 186, 116, 258, 310, 501, 956, 383, 373, 191, 135, 271, 282, 489, 988, 339, 352, 177, 133, 264, 176, 394, 868, 254, 360, 189, 137, 310, 154, 367, 846, 215, 379, 206, 139, 313, 160, 399, 1034, 253, 333, 181, 138, 341, 198, 499, 1072, 249, 394, 181, 117, 350, 220, 490, 997, 237, 407, 180, 121, 348, 237, 501, 1017, 246, 391, 169, 117, 315, 231, 497, 1011, 245, 397, 166, 125, 327, 228, 581, 955, 312, 445, 184, 113, 284, 213, 570, 915, 348, 410, 172, 107, 261, 213, 545, 839, 349, 402, 170, 96, 271, 202, 546, 864, 345, 483, 200, 100, 246, 209, 594, 896, 371, 485, 210, 99, 213, 220, 602, 952, 319, 444, 188, 99, 214, 219, 609, 1001, 319, 425, 181, 104, 231, 222, 631, 1022, 324, 470, 198, 105, 220, 233, 644, 1022, 338, 442, 202, 101, 216, 239, 611, 1058, 314, 456, 192, 96, 230, 230, 549, 935, 305, 522, 209, 99, 255, 244, 527, 874, 298, 514, 211, 96, 210, 223, 507, 899, 296, 505, 216, 101, 208, 211, 502, 866, 328, 502, 205, 124, 220, 213, 530, 865, 391, 471, 192, 124, 234, 215, 494, 881, 397, 361, 164, 127, 257, 185, 401, 774, 361, 356, 164, 142, 280, 192, 407, 699, 374, 391, 166, 145, 289, 207, 387, 816, 379, 346, 145, 136, 300, 203, 355, 783, 320, 324, 144, 131, 286, 205, 340, 778, 291, 383, 167, 125, 242, 235, 379, 822, 298, 401, 174, 124, 237, 237, 399, 894, 356, 340, 165, 122, 222, 214, 400, 827, 304, 331, 157, 109, 203, 211, 389, 784, 287, 347, 157, 108, 203, 207, 422, 874, 328, 285, 135, 111, 225, 168, 420, 889, 318, 325, 149, 94, 220, 153, 408, 843, 230, 308, 125, 85, 254, 167, 397, 804, 233, 356, 143, 101, 329, 236, 475, 860, 280, 397, 161, 100, 332, 243, 475, 739, 246, 406, 167, 110, 323, 275, 562, 785, 331, 407, 183, 152, 342, 305, 605, 1010, 411]
myList = list()
step = 0
while(step < len(input)):
  myList.append(input[step:step+8])
  step += 8

arrayXD = np.empty((1,150,8),dtype="float32")
super_inp = np.asarray(myList,dtype="float32")

arrayXD[0] = super_inp
print(arrayXD.shape)
data_x_train = np.copy(super_inp)
super_inp = np.concatenate((data_x_train,super_inp),axis = 0)
print(super_inp.shape)
np.fromiter(input, dtype="float32")
#print(input)
interpreter.set_tensor(input_details[0]['index'], arrayXD)
interpreter.invoke()

output_data = interpreter.get_tensor(output_details[0]['index'])
print(output_data)
# interpreter.invoke()
# output_data = interpreter.get_tensor(output_details[0]['index'])
# print(output_data)
